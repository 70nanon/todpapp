(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{25:function(e,t,n){},49:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),s=(n(49),n(25),n(26),n(14)),d=n(15),o=n.n(d),l=n(23),u=n(19),j=n(17),b=n(80),f=n(79),p=n(81),h=n(44),O=n(41),x=n(42),v=n(4);var m=function(e){return Object(v.jsx)("div",{children:Object(v.jsx)(j.b,{draggableId:e.id,index:e.index,children:function(t){return Object(v.jsx)(h.a,Object(s.a)(Object(s.a)(Object(s.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"my-2 py-2 rounded",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-10 text-left",children:e.name}),Object(v.jsx)("div",{className:"col-2",children:Object(v.jsx)(p.a,{onClick:function(){e.deleteTask(e.id)},children:Object(v.jsx)(O.a,{icon:x.a})})})]})}))}},e.id)})},y=n(78),k=n(82);var g=function(e){var t=Object(a.useContext)(P),n=t.title,r=t.updateTitle;return Object(v.jsx)(b.a,{className:"characters p-2",children:Object(v.jsx)(h.a,{className:"rounded mx-1",children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)(k.a,{placeholder:"task title","aria-label":"task title","aria-describedby":"basic-addon2",type:"title",value:n,onChange:function(e){r(e.target.value)}}),Object(v.jsx)(p.a,{onClick:function(){e.updateTask()},variant:"outline-secondary",id:"button-addon2",children:"Add"})]})})})},T=n(16),w=n.n(T),C="https://todoapp.microcms.io/api/v1/tasks",E="f7c56759-963c-4bfe-971d-bccf2a334220",N="77d88407-5a2c-42f0-bcff-9e40f60a1ba6";var I=function(e,t){return w.a.post(C,{displayOrder:e+1,title:t},{headers:{"X-WRITE-API-KEY":N}}).then((function(e){return e.data})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}))},A=function(e,t){var n=[C,e].join("/");return w.a.patch(n,{displayOrder:t+1},{headers:{"X-WRITE-API-KEY":N}}).then((function(e){return e.data})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}))},P=Object(a.createContext)({});var S=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),d=i[0],h=i[1],O=Object(a.useState)(!1),x=Object(u.a)(O,2),y=x[0],k=x[1],T=function(){return k(!1)},S=function(){return k(!0)},F=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(C,{headers:{"X-API-KEY":E,"Content-Type":"application/json"},params:{orders:"displayOrder"}}).then((function(e){return e.data.contents})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}));case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){F()}),[]);var R=function(){var e=Array.from(n);(function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e.length+1,d);case 2:n=t.sent,a={id:n.id,title:d,displayOrder:e.length+1},e.push(a),r(e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},K=function(e){var t=Array.from(n);!function(e){var t=[C,e].join("/");w.a.delete(t,{headers:{"X-WRITE-API-KEY":N}}).then((function(e){return e.data})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}))}(e);var a=t.filter((function(t){return t.id!==e}));r(a)};return Object(v.jsxs)("div",{className:"mainList row mx-auto mx-3",children:[Object(v.jsxs)(j.a,{onDragEnd:function(e){var t,a=Array.from(n),c=a.splice(e.source.index,1),i=Object(u.a)(c,1)[0];a.splice(null===(t=e.destination)||void 0===t?void 0:t.index,0,i),a.forEach(function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t.id,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),r(a)},children:[Object(v.jsx)(j.c,{droppableId:"characters mx-auto",children:function(e){return Object(v.jsx)("div",Object(s.a)(Object(s.a)({className:"characters"},e.droppableProps),{},{ref:e.innerRef,children:Object(v.jsxs)(b.a,{children:[null===n||void 0===n?void 0:n.map((function(e,t){var n=e.id,a=e.title,r=e.comment,c=e.displayOrder;return Object(v.jsx)(m,{deleteTask:K,openModal:S,id:n,name:a,thumb:r,index:t,displayOrder:c})})),e.placeholder]})}))}}),Object(v.jsx)(P.Provider,{value:{title:d,updateTitle:h},children:Object(v.jsx)(g,{updateTask:R})})]}),Object(v.jsxs)(f.a,{show:y,onHide:T,children:[Object(v.jsx)(f.a.Header,{children:Object(v.jsx)(f.a.Title,{children:"Task Edit"})}),Object(v.jsxs)(f.a.Body,{children:[Object(v.jsx)(g,{updateTask:R}),"        "]}),Object(v.jsxs)(f.a.Footer,{children:[Object(v.jsx)(p.a,{variant:"secondary",onClick:T,children:"Close"}),Object(v.jsx)(p.a,{variant:"primary",onClick:T,children:"Save"})]})]})]})};var F=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)("header",{className:"App-header",children:[Object(v.jsx)("div",{className:"header row py-3",children:Object(v.jsx)("h1",{className:"col title",children:"TODO List"})}),Object(v.jsx)(S,{})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(F,{})}),document.getElementById("root")),R()}},[[76,1,2]]]);
//# sourceMappingURL=main.c38334bc.chunk.js.map