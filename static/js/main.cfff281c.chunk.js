(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{38:function(e,n,t){},40:function(e,n,t){},66:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(10),i=t.n(c),s=(t(38),t(8)),d=t(9),o=t.n(d),l=t(16),u=t(17),j=(t(40),t(13)),f=(t(41),t(68)),p=t(67),h=t(31),b=t(69),O=t(70),m=t(3);var v=function(e){return Object(m.jsx)(j.b,{draggableId:e.id,index:e.index,children:function(n){return Object(m.jsx)(h.a,Object(s.a)(Object(s.a)(Object(s.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:"my-2 py-2 rounded",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-8",children:e.name}),Object(m.jsx)("div",{className:"col-2",children:Object(m.jsx)(f.a,{onClick:function(){e.deleteTask(e.id)},children:"delete"})})]})}))}},e.id)},x=t(11),y=t.n(x),g="https://todoapp.microcms.io/api/v1/tasks",k="f7c56759-963c-4bfe-971d-bccf2a334220",N="77d88407-5a2c-42f0-bcff-9e40f60a1ba6";var w=function(e,n){return y.a.post(g,{displayOrder:e+1,title:n},{headers:{"X-WRITE-API-KEY":N}}).then((function(e){return e.data})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}))},E=function(e,n){var t=[g,e].join("/");return y.a.patch(t,{displayOrder:n+1},{headers:{"X-WRITE-API-KEY":N}}).then((function(e){return e.data})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}))};var I=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),d=i[0],x=i[1],I=function(){var e=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(g,{headers:{"X-API-KEY":k,"Content-Type":"application/json"},params:{orders:"displayOrder"}}).then((function(e){return e.data.contents})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}));case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){I()}),[]);var A=function(e){var n=Array.from(t);!function(e){var n=[g,e].join("/");y.a.delete(n,{headers:{"X-WRITE-API-KEY":N}}).then((function(e){return e.data})).catch((function(e){if(void 0!==e.response)return[{id:null,title:null,comment:null}]}))}(e);var r=n.filter((function(n){return n.id!==e}));a(r)};return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("header",{className:"App-header",children:[Object(m.jsxs)("div",{className:"header row py-3",children:[Object(m.jsx)("h1",{className:"col",children:"TODO List"}),Object(m.jsx)("div",{className:"col",children:Object(m.jsx)(f.a,{onClick:I,children:"reload"})})]}),Object(m.jsx)("div",{className:"mainList row mx-auto mx-3",children:Object(m.jsxs)(j.a,{onDragEnd:function(e){var n,r=Array.from(t),c=r.splice(e.source.index,1),i=Object(u.a)(c,1)[0];r.splice(null===(n=e.destination)||void 0===n?void 0:n.index,0,i),r.forEach(function(){var e=Object(l.a)(o.a.mark((function e(n,t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n.id,t);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),a(r)},children:[Object(m.jsx)(j.c,{droppableId:"characters mx-auto",children:function(e){return Object(m.jsx)("div",Object(s.a)(Object(s.a)({className:"characters"},e.droppableProps),{},{ref:e.innerRef,children:Object(m.jsxs)(p.a,{children:[null===t||void 0===t?void 0:t.map((function(e,n){var t=e.id,r=e.title,a=e.comment,c=e.displayOrder;return Object(m.jsx)(v,{deleteTask:A,id:t,name:r,thumb:a,index:n,displayOrder:c})})),e.placeholder]})}))}}),Object(m.jsx)(p.a,{className:"characters p-2",children:Object(m.jsx)(h.a,{className:"rounded mx-1",children:Object(m.jsxs)(b.a,{children:[Object(m.jsx)(O.a,{placeholder:"task title","aria-label":"task title","aria-describedby":"basic-addon2",type:"title",value:d,onChange:function(e){x(e.target.value)}}),Object(m.jsx)(f.a,{onClick:function(){var e=Array.from(t);(function(){var n=Object(l.a)(o.a.mark((function n(){var t,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w(e.length+1,d);case 2:t=n.sent,r={id:t.id,title:d,displayOrder:e.length+1},e.push(r),a(e);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()},variant:"outline-secondary",id:"button-addon2",children:" Add "})]})})})]})})]})})},A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,71)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root")),A()}},[[66,1,2]]]);
//# sourceMappingURL=main.cfff281c.chunk.js.map